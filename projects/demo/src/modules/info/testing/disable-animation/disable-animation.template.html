<tui-doc-page
    i18n-header
    header="Disable animation"
>
    <p>
        During integration testing you can face with problem of flaky tests caused by animation. It is especially
        crucial if you are writing screenshot tests.
    </p>

    <p>
        For example, you want to make screenshot of dialog content: you click button which opens dialog and make
        screenshot. Sometimes screenshots can be made too early (before dialog fully opens) and test fails.
    </p>

    <p>
        To avoid this
        <strong>we recommend to toggle all animation off while integration test works.</strong>
    </p>

    <p>
        For example, we use
        <a
            tuiLink
            target="_blank"
            href="https://www.cypress.io/"
        >
            Cypress
        </a>
        for screenshot testing of our ui-kit components.
    </p>
    <ol class="tui-list">
        <li class="tui-list__item">
            To detect if app is running under Cypress we use token
            <code>TUI_IS_CYPRESS</code>
            .
        </li>
        <li class="tui-list__item">
            To disable animation in ALL Taiga UI components we use token
            <code>TUI_ANIMATIONS_DURATION</code>
            .
        </li>
    </ol>

    <tui-doc-code
        filename="app.module.ts"
        [code]="disableAnimationExample"
    ></tui-doc-code>
</tui-doc-page>
